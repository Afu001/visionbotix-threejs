{"version":3,"sources":["script.js"],"names":["renderer","THREE","WebGLRenderer","antialias","onWindowResize","camera","aspect","window","innerWidth","innerHeight","updateProjectionMatrix","setSize","shadowMap","enabled","type","PCFSoftShadowMap","needsUpdate","document","body","appendChild","domElement","addEventListener","PerspectiveCamera","position","set","scene","Scene","city","Object3D","smoke","town","createCarPos","uSpeed","setcolor","mathRandom","num","arguments","length","undefined","Math","random","background","Color","fog","Fog","setTintNum","setTintColor","init","i","geometry","BoxGeometry","material","MeshStandardMaterial","color","wireframe","side","DoubleSide","cube","Mesh","castShadow","receiveShadow","rotationValue","abs","scale","y","x","z","round","add","gmaterial","MeshToonMaterial","gparticular","CircleGeometry","h","particular","rotation","ambientLight","AmbientLight","lightFront","SpotLight","lightBack","PointLight","PI","shadow","mapSize","width","height","penumbra","gridHelper","GridHelper","animate","requestAnimationFrame","mouse","lookAt","render","generateLines","createCars","cScale","cPos","cColor","cMat","cGeo","cElem","TweenMax","to","repeat","yoyo","delay","ease","Power1","easeInOut","Vector2","onMouseMove","event","clientX","clientY"],"mappings":"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","file":"script.4bdf43b7.js","sourceRoot":"..","sourcesContent":["\r\n\r\n//----------------------------------------------------------------- BASIC parameters\r\nvar renderer = new THREE.WebGLRenderer({ antialias: true });\r\nrenderer.setSize(window.innerWidth, window.innerHeight);\r\n\r\nif (window.innerWidth > 800) {\r\n  renderer.shadowMap.enabled = true;\r\n  renderer.shadowMap.type = THREE.PCFSoftShadowMap;\r\n  renderer.shadowMap.needsUpdate = true;\r\n};\r\n\r\ndocument.body.appendChild(renderer.domElement);\r\n\r\nwindow.addEventListener('resize', onWindowResize, false);\r\n\r\nfunction onWindowResize() {\r\n  camera.aspect = window.innerWidth / window.innerHeight;\r\n  camera.updateProjectionMatrix();\r\n  renderer.setSize(window.innerWidth, window.innerHeight);\r\n}\r\n\r\nvar camera = new THREE.PerspectiveCamera(20, window.innerWidth / window.innerHeight, 1, 500);\r\ncamera.position.set(0, 13, 7);\r\n\r\nvar scene = new THREE.Scene();\r\nvar city = new THREE.Object3D();\r\nvar smoke = new THREE.Object3D();\r\nvar town = new THREE.Object3D();\r\n\r\nvar createCarPos = true;\r\nvar uSpeed = 0.001;\r\n\r\n//----------------------------------------------------------------- FOG background\r\nvar setcolor = 0xF02050;\r\nscene.background = new THREE.Color(setcolor);\r\nscene.fog = new THREE.Fog(setcolor, 10, 16);\r\n\r\n//----------------------------------------------------------------- RANDOM Function\r\nfunction mathRandom(num = 8) {\r\n  return -Math.random() * num + Math.random() * num;\r\n}\r\n\r\n//----------------------------------------------------------------- CHANGE building colors\r\nvar setTintNum = true;\r\n\r\nfunction setTintColor() {\r\n  if (setTintNum) {\r\n    setTintNum = false;\r\n    return 0x000000; // Change color value as needed\r\n  } else {\r\n    setTintNum = true;\r\n    return 0x000000; // Change color value as needed\r\n  }\r\n}\r\n\r\n//----------------------------------------------------------------- CREATE City\r\nfunction init() {\r\n  var segments = 2;\r\n\r\n  for (var i = 1; i < 100; i++) {\r\n    var geometry = new THREE.BoxGeometry(1, 1, 1, segments, segments, segments); // Use BoxGeometry instead of CubeGeometry\r\n    var material = new THREE.MeshStandardMaterial({\r\n      color: setTintColor(),\r\n      wireframe: false,\r\n      side: THREE.DoubleSide\r\n    });\r\n\r\n    var cube = new THREE.Mesh(geometry, material);\r\n    cube.castShadow = true;\r\n    cube.receiveShadow = true;\r\n    cube.rotationValue = 0.1 + Math.abs(mathRandom(8));\r\n    cube.scale.y = 0.1 + Math.abs(mathRandom(8));\r\n    cube.scale.x = cube.scale.z = 0.9 + mathRandom(1 - 0.9);\r\n    cube.position.x = Math.round(mathRandom());\r\n    cube.position.z = Math.round(mathRandom());\r\n\r\n    town.add(cube);\r\n  }\r\n\r\n  var gmaterial = new THREE.MeshToonMaterial({ color: 0xFFFF00, side: THREE.DoubleSide });\r\n  var gparticular = new THREE.CircleGeometry(0.01, 3);\r\n  var aparticular = 5;\r\n\r\n  for (var h = 1; h < 300; h++) {\r\n    var particular = new THREE.Mesh(gparticular, gmaterial);\r\n    particular.position.set(mathRandom(aparticular), mathRandom(aparticular), mathRandom(aparticular));\r\n    particular.rotation.set(mathRandom(), mathRandom(), mathRandom());\r\n    smoke.add(particular);\r\n  }\r\n\r\n  city.add(town);\r\n  city.add(smoke);\r\n  scene.add(city);\r\n}\r\n\r\n//----------------------------------------------------------------- Lights\r\nvar ambientLight = new THREE.AmbientLight(0xFFFFFF, 4);\r\nvar lightFront = new THREE.SpotLight(0xFFFFFF, 20, 10);\r\nvar lightBack = new THREE.PointLight(0xFFFFFF, 0.5);\r\n\r\nlightFront.rotation.x = 45 * Math.PI / 180;\r\nlightFront.rotation.z = -45 * Math.PI / 180;\r\nlightFront.position.set(5, 5, 5);\r\nlightFront.castShadow = true;\r\nlightFront.shadow.mapSize.width = 6000;\r\nlightFront.shadow.mapSize.height = lightFront.shadow.mapSize.width;\r\nlightFront.penumbra = 0.1;\r\nlightBack.position.set(0, 6, 0);\r\n\r\nsmoke.position.y = 2;\r\n\r\nscene.add(ambientLight);\r\nscene.add(lightFront);\r\nscene.add(lightBack);\r\n\r\n//----------------------------------------------------------------- GRID Helper\r\nvar gridHelper = new THREE.GridHelper(60, 120, 0xFF0000, 0x000000);\r\ncity.add(gridHelper);\r\n\r\n//----------------------------------------------------------------- ANIMATE\r\nfunction animate() {\r\n  requestAnimationFrame(animate);\r\n\r\n  city.rotation.y -= (mouse.x * 8) * uSpeed;\r\n  city.rotation.x -= (mouse.y * 2) * uSpeed;\r\n  if (city.rotation.x < -0.05) city.rotation.x = -0.05;\r\n  else if (city.rotation.x > 1) city.rotation.x = 1;\r\n\r\n  smoke.rotation.y += 0.01;\r\n  smoke.rotation.x += 0.01;\r\n\r\n  camera.lookAt(city.position);\r\n  renderer.render(scene, camera);\r\n}\r\n\r\n//----------------------------------------------------------------- START functions\r\nfunction generateLines() {\r\n  for (var i = 0; i < 60; i++) {\r\n    createCars(0.1, 20); // Calling createCars function\r\n  }\r\n}\r\n\r\n// Example implementation of createCars function\r\nfunction createCars(cScale = 2, cPos = 20, cColor = 0xFFFF00) {\r\n    var cMat = new THREE.MeshToonMaterial({ color: cColor, side: THREE.DoubleSide });\r\n    var cGeo = new THREE.BoxGeometry(1, cScale / 40, cScale / 40);\r\n    var cElem = new THREE.Mesh(cGeo, cMat);\r\n    var cAmp = 3;\r\n  \r\n    if (createCarPos) {\r\n      createCarPos = false;\r\n      cElem.position.x = -cPos;\r\n      cElem.position.z = mathRandom(cAmp);\r\n  \r\n      TweenMax.to(cElem.position, 3, { x: cPos, repeat: -1, yoyo: true, delay: mathRandom(3) });\r\n    } else {\r\n      createCarPos = true;\r\n      cElem.position.x = mathRandom(cAmp);\r\n      cElem.position.z = -cPos;\r\n      cElem.rotation.y = 90 * Math.PI / 180;\r\n  \r\n      TweenMax.to(cElem.position, 5, { z: cPos, repeat: -1, yoyo: true, delay: mathRandom(3), ease: Power1.easeInOut });\r\n    }\r\n    cElem.receiveShadow = true;\r\n    cElem.castShadow = true;\r\n    cElem.position.y = Math.abs(mathRandom(5));\r\n    city.add(cElem);\r\n  }\r\n  \r\n\r\n//----------------------------------------------------------------- MOUSE function\r\nvar mouse = new THREE.Vector2();\r\n\r\nfunction onMouseMove(event) {\r\n  mouse.x = (event.clientX / window.innerWidth) * 2 - 1;\r\n  mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;\r\n}\r\n\r\nwindow.addEventListener('mousemove', onMouseMove, false);\r\n\r\n//----------------------------------------------------------------- Initialize\r\ninit();\r\ngenerateLines();\r\nanimate();\r\n"]}